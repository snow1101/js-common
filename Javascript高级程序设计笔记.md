# Javascript高级程序设计笔记


##  第一章 JavaScript 简介

虽然 JavaScript 和 ECMAScript 通常都被人们用来表达 相同的含义，但 JavaScript 的含义却比 ECMA-262 中规定的 要多得多。
一个完整的 JavaScript 实现应该由下列三 个不同的部分组成

* 核心(ECMAScript)
* 文档对象模型(DOM) 
* 浏览器对象模型(BOM)

## 第三章 基本概念

* typeof 是一个操作符而不是函数，因此例子中的圆括号尽管可以使用，但不是必需的。
* typeof null 会返回"object"，因为特殊值 null 被认为是一个空的对象引用。
* 对未初始化的变量执行 typeof 操作符会返回 undefined 值，而对未声明 的变量执行 typeof 操作符同样也会返回 undefined 值。
* 如果定义的变量准备在将来用于保存对象，那么最好将该变量初始化为 null 而不是其他值。
* 由于保存浮点数值需要的内存空间是保存整数值的两倍，因此 ECMAScript 会不失时机地将浮点数值 转换为整数值。
* 关于浮点数值计算会产生舍入误差的问题，有一点需要明确:这是使用基于 IEEE754 数值的浮点计算的通病，ECMAScript 并非独此一家;其他使用相同数值格 式的语言也存在这个问题。
* NaN 与任何值都不相等，包括 NaN 本身。
* 只有 0 除以 0 才会返回 NaN，正数除以 0 返回 Infinity，负数除以 0 返回-Infinity。
* 在基于对象调用 isNaN() 函数时，会首先调用对象的 valueOf()方法，然后确定该方法返回的值是否可以转 换为数值。如果不能，则基于这个返回值再调用 toString()方法，再测试返回值。
* 用 parseInt()转换空字符串会返回 NaN，(Number()对空字符返回 0)
* ECMAScript 中的字符串是不可变的，也就是说，字符串一旦创建，它们的值就不能改变。要改变 某个变量保存的字符串，首先要销毁原来的字符串，然后再用另一个包含新值的字符串填充该变量
* 数值、布尔值、对象和字符串值(没错，每个字符串也都有一个 toString()方法，该方法返回字 符串的一个副本)都有 toString()方法。但 null 和 undefined 值没有这个方法。
* 在不知道要转换的值是不是 null 或 undefined 的情况下，还可以使用转型函数 String()，这个 函数能够将任何类型的值转换为字符串。String()函数遵循下列转换规则:
  1. 如果值有 toString()方法，则调用该方法(没有参数)并返回相应的结果;
  2. 如果值是 null，则返回"null";
  3. 如果值是 undefined，则返回"undefined"。
* 要把某个值转换为字符串，可以使用加号操作符把它与一个字符 串("")加在一起。
* Object 的每个实例都具有下列属性和方法。
  1. constructor:保存着用于创建当前对象的函数
  2. hasOwnProperty(propertyName):用于检查给定的属性在当前对象实例中(而不是在实例 的原型中)是否存在。其中，作为参数的属性名(propertyName)必须以字符串形式指定(例 如:o.hasOwnProperty("name"))。
  3. isPrototypeOf(object):用于检查传入的对象是否是传入对象的原型
  4. propertyIsEnumerable(propertyName):用于检查给定的属性是否能够使用 for-in 语句来枚举。与 hasOwnProperty()方法一样，作为参数的属性名必须以字符
串形式指定。
  5. toLocaleString():返回对象的字符串表示，该字符串与执行环境的地区对应。
  6. toString():返回对象的字符串表示。
  7. valueOf():返回对象的字符串、数值或布尔值表示。通常与 toString()方法的返回值相同。
 
* 只能操作一个值的操作符叫做一元操作符。比如递增，递减（++，--）和一元加和减操作符
* 一元加操作符以一个加号(+)表示，放在数值前面，对数值不会产生任何影响，不过，在对非数值应用一元加操作符时，该操作符会像 Number()转型函数一样对这个值执行转换。换句话说，布尔值 false 和 true 将被转换为 0 和 1，字符串值会被按照一组特殊的规则进行解析，而 对象是先调用它们的 valueOf()和(或)toString()方法，再转换得到的值。
* 加性操作符，如果有一个操作数是字符串，那么就要应用如下规则:
  1. 如果两个操作数都是字符串，则将第二个操作数与第一个操作数拼接起来;
  2. 如果只有一个操作数是字符串，则将另一个操作数转换为字符串，然后再将两个字符串拼接起来。
  3. 如果有一个操作数是对象、数值或布尔值，则调用它们的 toString()方法取得相应的字符串值，然后再应用前面关于字符串的规则。
 
* 逗号操作符多用于声明多个变量;但除此之外，逗号操作符还可以用于赋值。在用于赋值时，逗号 操作符总会返回表达式中的最后一项，如下面的例子所示:
var num = (5, 1, 4, 8, 0); // num的值为0
* switch 语句在比较值时使用的是全等操作符，因此不会发生类型转换(例如， 字符串"10"不等于数值 10)。
* ECMAScript函数的参数与大多数其他语言中函数的参数有所不同。ECMAScript函数不介意传递进 来多少个参数，也不在乎传进来参数是什么数据类型。也就是说，即便你定义的函数只接收两个参数， 在调用这个函数时也未必一定要传递两个参数。可以传递一个、三个甚至不传递参数，而解析器永远不 会有什么怨言。之所以会这样，原因是 ECMAScript 中的参数在内部是用一个数组来表示的。函数接收 到的始终都是这个数组，而不关心数组中包含哪些参数(如果有参数的话)。如果这个数组中不包含任 何元素，无所谓;如果包含多个元素，也没有问题。实际上，在函数体内可以通过 arguments 对象来 访问这个参数数组，从而获取传递给函数的每一个参数。

## 第四章 变量、作用域和内存问题

* 使用typeof操作符检测函数时，该操作符会返回"function"。在Safari 5及 之前版本和 Chrome 7 及之前版本中使用 typeof 检测正则表达式时，由于规范的原因，这个操作符也返回"function"。**ECMA-262 规定任何在内部实现[[Call]]方法 的对象都应该在应用 typeof 操作符时返回"function"。**由于上述浏览器中的正则 表达式也实现了这个方法，因此对正则表达式应用 typeof 会返回"function"。在 IE 和 Firefox 中，对正则表达式应用 typeof 会返回"object"。
* 在 Web 浏览器中，全局执行环境被认为是 window 对象，因 此所有全局变量和函数都是作为 window 对象的属性和方法创建的。某个执行环境中的所有代码执行完毕后，该环境被销毁，保存在其中的所有变量和函数定义也随之销毁(全局执行环境直到应用程序退出——例如关闭网页或浏览器——时才会被销毁)。
* 

